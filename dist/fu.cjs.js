/*!
 * @ysorg/fu v0.5.0
 * (c) 2020-2021 Authors(排名不分先后):
 * Jesonhu 
 *
 * Released under the ISC License.
 */
"use strict";function e(e,t,n,r){let o=e-0;if(/^-?(0|[1-9]\d*)(\.\d+)?$/.test(o)||(o=t),t||0===t||(t=1===r?.1:2===r?.01:3===r?.001:4===r?1e-4:1),o>n||o<t)return`请输入${t}-${n}之间的数值`;const c=/^[0-9]+.?[0-9]*$/;if(c.test(t)&&c.test(n)&&(o<t&&(o=0===r?parseInt(t):t),o>n&&(o=0===r?parseInt(n):n)),o+="",o=o.replace(/[^\d.]/g,""),o=o.replace(/^\./g,""),o=o.replace(/\.{2,}/g,"."),o=o.replace(".","$#$").replace(/\./g,"").replace("$#$","."),0===r){const e=o.indexOf(".");o=-1!==e?o.slice(0,e):o.replace(/^0(0+)|[^\d]+/g,"")}return 1===r&&(o=o.replace(/^(\-)*(\d+)\.(\d).*$/,"$1$2.$3")),2===r&&(o=o.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")),3===r&&(o=o.replace(/^(\-)*(\d+)\.(\d\d\d).*$/,"$1$2.$3")),4===r&&(o=o.replace(/^(\-)*(\d+)\.(\d\d\d\d).*$/,"$1$2.$3")),o.indexOf(".")<0&&""!==o&&(o=parseFloat(o)),o=isNaN(o)?0:o,Number(o)}const t=Object.prototype.toString,n=Array.isArray;function r(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(let r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)}function o(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)}function c(e,t,n){if(e)for(let r in e)o(e,r)&&t.call(n,e[r],r,e)}function i(e,t,o){return e?(n(e)?r:c)(e,t,o):e}const a=(s="function",function(e){return typeof e===s});var s;function l(e,t,n){const r={};if(e){if(!t)return e;a(t)||(o=t,t=function(e){return function(e){return null===e}(e)?c:e[o]}),i(e,(function(o,c){r[c]=t.call(n,o,c,e)}))}var o,c;return r}function u(e,t,n){let r=[];if(e&&arguments.length>1){if(e.map)return e.map(t,n);i(e,(function(){r.push(t.apply(n,arguments))}))}return r}function f(e,t,n){return e(t,n?function(e){return d(e,n)}:function(e){return e})}function d(e,r){return(o=e)&&o.constructor===Object?f(l,e,r):n(e)?f(u,e,r):function(e,n){if(n&&e){const n=e.constructor;switch(t.call(e)){case"[object Date]":case"[object RegExp]":return new n(e.valueOf());case"[object Set]":const t=new n;return e.forEach((function(e){t.add(e)})),t;case"[object Map]":const r=new n;return e.forEach((function(e,t){r.set(t,e)})),r}}return e}(e,r);var o}function p(e,t){return e?d(e,t):e}function g(e){for(let t=0;t<arguments.length;t++)e=h(e,arguments[t]);return e}function h(e,t){for(let n in t)if(t.hasOwnProperty(n))if(t[n]instanceof Array){const r=e[n]instanceof Array?e[n]:[];e[n]=t[n].concat(r)}else null!=t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=h(e[n]||{},t[n]):e[n]=t[n];return e}function m(e){return function(t,n,r,o){var c=r||{},i=c.children||"children";return e(null,t,n,o,[],[],i,c)}}const y=m((function e(t,n,r,o,c,a,s,l){let u,f;i(n,(function(i,l){u=c.concat([""+l]),f=a.concat([i]),r.call(o,i,l,n,u,t,f),i&&s&&(u.push(s),e(i,i[s],r,o,u,f,s))}))}));const b=(e,t,n="")=>{const r=JSON.parse(JSON.stringify(e));if(!t)return r;if(Array.isArray(r)){const e=[];for(let o=0,c=r.length;o<c;o++){const c=b(r[o],t,n);e.push(c)}return e}"reverse"===n&&(t=(e=>{if(e)return{};const t=JSON.parse(JSON.stringify(e));for(let e in t)t[t[e]]=e,delete t[e];return t})(t));for(let e in r)if(t.hasOwnProperty(e)){r[t[e]]=JSON.parse(JSON.stringify(r[e])),delete r[e]}return r};function $(e,t,n,o,c,i,a,s,l){let u,f,d,p,h,m=[],y=l.original,b=l.data,O=l.mapChildren||s;return r(n,(function(r,v){u=i.concat([""+v]),f=a.concat([r]),p=e||o.call(c,r,v,n,u,t,f),h=s&&r[s],p||h?(y?d=r:(d=g({},r),b&&(d[b]=r)),d[O]=$(p,r,r[s],o,c,u,f,s,l),(p||d[O].length)&&m.push(d)):p&&m.push(d)})),m}const O=m((function(e,t,n,r,o,c,i,a){return $(0,e,t,n,r,o,c,i,a)}));const v={basic:{addAssetsBaseUrl:(e,t,n)=>{if("string"==typeof e)return n||(n=t),e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,`<img src="${n}$1" />`);if(Array.isArray(e))return 0===e.length?e:"boolean"==typeof t?(e.forEach(((t,r)=>e[r]=`${n}${t}`)),e):"string"==typeof t?e.map(((e,r)=>(void 0===n?e=`${t}${e}`:e[t]=`${n}${e[t]}`,e))):(e.forEach((e=>e[t]=`${n}${e[t]}`)),e);const r=e[t];return e[t]=`${n}${r}`,e},addAssetsBaseUrlFromArray:(e,t,n)=>0===e.length?e:"boolean"==typeof t?(e.forEach(((t,r)=>e[r]=`${n}${t}`)),e):(e.forEach((e=>{e[t]=`${n}${e[t]}`})),e),addAssetsBaseUrlFromObject:(e,t,n)=>{const r=e[t];return e[t]=`${n}${r}`,e},addAssetsBaseUrlFromRichText:(e,t)=>e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,`<img src="${t}$1" />`),addZero:function(e,t){return(Array(t).join("0")+e).slice(-t)},accAdd:function(e,t,n){e||(e=0),t||(t=0),e=e.toString(),t=t.toString();var r=e.split("."),o=t.split("."),c=2===r.length?r[1]:"",i=2===o.length?o[1]:"",a=Math.max(c.length,i.length),s=Math.pow(10,a),l=Number(((e*s+t*s)/s).toFixed(a)),u=n;return"number"==typeof u?Number(l.toFixed(u)):l},accSubtr:function(e,t){return accAdd(e,-Number(t),arguments[2])},accMul:function(e,t,n,r){e||(e=0),t||(t=0);var o,c,i=e.toString(),a=t.toString(),s=n||arguments[2];return o=(i.split(".")[1]?i.split(".")[1].length:0)+(a.split(".")[1]?a.split(".")[1].length:0),c=Number(i.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,o),"money"===r&&(c=Math.ceil(100*c)/100),Number("number"!=typeof s?c:c.toFixed(parseInt(s)))},accDiv:function(e,t,n){e||(e=0),t||(t=0);var r,o,c=e.toString(),i=t.toString(),a=n||arguments[2];return r=(i.split(".")[1]?i.split(".")[1].length:0)-(c.split(".")[1]?c.split(".")[1].length:0),o=Number(c.replace(".",""))/Number(i.replace(".",""))*Math.pow(10,r),Number("number"!=typeof a?o:o.toFixed(parseInt(a)))},chTimeHello:()=>{const e=(new Date).getHours();let t="";return t=e<9?"早上好":e>=9&&e<=11?"上午好":e>11&&e<=13?"中午好":e>13&&e<=20?"下午好":"晚上好",t},checkNumber:e,clone:p,cloneDeep:function(e){return p(e,!0)},CustomEventEmitter:class{constructor(){this.$_listeners=[]}on(e,t,n=null){this.$_listeners[e]=this.$_listeners[e]||[];const r={};r._callback=t,r._scope=n,this.$_listeners[e].push(r)}off(e,t){const n=this.$_listeners[e];if(Array.isArray(n)){const e=n.findIndex((e=>e._callback===t));e>=0&&n.splice(e,1)}}trigger(e,t=null){const n=this.$_listeners[e];Array.isArray(n)&&n.map(((e,r)=>{const o=n[r],c=o._callback;c instanceof Function&&(o&&o._scope?t?c.call(o._scope,{data:t}):c.call(o._scope):t?c({data:t}):c())}))}},checkNumber:e,deepClone:e=>JSON.parse(JSON.stringify(e)),debounce:function(e,t=500,n={}){let r=null;return n=g({},{leading:!1,maxWait:100,trailing:!0},n),function(){r&&clearTimeout(r),r=setTimeout((()=>{e.apply(this,arguments)}),t)}},extend:g,eachTree:y,forEach:i,getNumberPercent:function(e,t){const n=String(e/t*100);return`${parseInt(n)}`},getPaginationPageCount:(e,t)=>Math.ceil(e/t),getQueryParameters:e=>{const t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}},hideSourceName:(e,t)=>{const n=deepClone(e);if(Array.isArray(n))n.forEach((e=>{for(let n=0;n<t.length;n++){const r=t[n];e.hasOwnProperty(r)&&delete e[r]}}));else for(let e=0;e<t.length;e++){const r=t[e];n.hasOwnProperty(r)&&delete n[r]}return n},isEmpty:function(e){return 0==e.length},isFunction:a,isUndefined:function(e){return void 0===e},list2Tree:function(e,t,n,r,o){const c=t||"id",i=n||"parentId",a=r||"children";o=o||0;const s=JSON.parse(JSON.stringify(e)),l=s.filter((e=>{const t=s.filter((t=>e[c]===t[i]));return t.length>0&&(e[a]=t),e[i]===o}));return""!==l?l:e},numPrecision:function(){},obj2Arr:function(e){if("object"!=typeof e)return;if(Array.isArray(e))return;const t=[],n=Object.getOwnPropertyNames(e);if(n.length>0){let r;n.forEach((n=>{r=e[n],t.push(r)}))}return t},obj2UrlQuery:function(e,t,n){var r=function(e,t,n){if(null==e)return"";var o="",c=typeof e;if("string"==c||"number"==c||"boolean"==c)o+="&"+t+"="+(null==n||n?encodeURIComponent(e):e);else for(var i in e){var a=null==t?i:t+(e instanceof Array?"["+i+"]":"."+i);o+=r(e[i],a,n)}return o};return r(e,t,n).slice(1)},parseTime:function(e,t){if(0===arguments.length||!e)return null;const n=t||"{y}-{m}-{d} {h}:{i}:{s}";let r;"object"==typeof e?r=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),r=new Date(e));const o={y:r.getFullYear(),m:r.getMonth()+1,d:r.getDate(),h:r.getHours(),i:r.getMinutes(),s:r.getSeconds(),a:r.getDay()},c=n.replace(/{(y|m|d|h|i|s|a)+}/g,((e,t)=>{let n=o[t];return"a"===t?["日","一","二","三","四","五","六"][n]:(e.length>0&&n<10&&(n="0"+n),n||0)}));return c},randomIntegerNumFromRange:(e,t)=>Math.round(Math.random()*(t-e)+e),randomNumFromRange:(e,t)=>Math.random()*(t-e)+e,resApiFail:(e="",t=1)=>({code:t,data:[],msg:e,status:!1}),resApiSuccess:(e={},t="",n={})=>{const{code:r,customData:o}=n;return o?{code:r||0,data:e,customData:o,msg:t,status:!0}:{code:0,data:e,msg:t,status:!0}},sourceNameConversion:b,splitToGroup:(e,t)=>{if(0===t.length)return t;const n=Math.ceil(t.length/e),r=[];for(let e=0;e<n;e++){let e=[];r.push(e)}return t.map(((t,n)=>{const o=Math.floor(n/e);return r[o].push(t),""})),r},searchTree:O,toInt:e=>"number"==typeof e?e:e?parseInt(e)||0:e,throttle:function(e,t=0,n={}){let r=!0;return n=g({},{leading:!0,trailing:!0},n),function(){r&&(r=!1,setTimeout((()=>{e.apply(this,arguments),r=!0}),t))}},welcomeFromArr:e=>e[Math.floor(Math.random()*e.length)]},dom:{addClass:function(e,t){if("object"!=typeof e)return;e.classList.contains(t)||e.classList.add(t)},elementScrollToBottom:function(e){const t=document.querySelector(e);t.scrollTop=t.scrollHeight},findTitleElement:function(){},h:function e(t,n,r){const o=document.createElement(t);return n&&Object.keys(n).forEach((function(e){if(e.indexOf("data"))o[e]=n[e];else{var t=e.replace("data","");o.dataset[t]=n[e]}})),r&&r.forEach((function(t){const n=t.tag,r=t.attrs,c=t.children;o.appendChild(e(n,r,c))})),o},isIE:function(){const e=window.navigator.userAgent,t="ActiveXObject"in window;return n="MSIE",e.indexOf(n)>=0||t;var n},isMac:function(e){return/Mac/.test(navigator.platform)},removeClass:function(e,t){if("object"!=typeof e)return;e.classList.contains(t)&&e.classList.remove(t)},setRem:function(e=750,t=100){!function(t,n,r=750,o){const c=t.documentElement,i="orientationchange"in window?"orientationchange":"resize",a=function(){let t=c.clientWidth;if(!t)return!1;t>e&&(t=r),c.style.fontSize=o*(t/r)+"px"};t.addEventListener&&(n.addEventListener(i,a,!1),t.addEventListener("DOMContentLoaded",a,!1))}(document,window,e,t)},toggleClass:function(e,t){if("object"!=typeof e)return;e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}},node:{sortPkgName:function(){}}},N={version:"0.5.0",...v.basic,...v.dom,...v.node};Object.defineProperty(N,"basic",{value:v.basic,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(N,"dom",{value:v.dom,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(N,"node",{value:v.node,writable:!1,enumerable:!0,configurable:!1}),function e(t){"object"==typeof t&&Object.freeze(t);for(let n in t)"object"==typeof t&&t.hasOwnProperty(n)&&e(t[n])}(N),module.exports=N;
